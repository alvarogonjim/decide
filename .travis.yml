language: python
python:
- 3.6.6
install:
- pip install -r requirements.txt
sudo: required
services:
- docker
script:
- cd docker
- docker exec -ti decide_web ./manage.py test
- cd ..
addons:
  sonarcloud:
    organization: pablotabares-github
notifications:
  email: false
before_install:
- cd docker
- docker-compose up -d
- cd ..
deploy:
  provider: heroku
  api_key:
    secure: 5IfIaxzrM0IhAerEcTWJznvf4ZOKgv71ScBiB8aDX1nxih/C9+xDCAYEgDBbf8xSLrDaYCjBqdidiM3eDzelRm+1AHFru/lAnb03JwWi4LBBGSTZI1T3pdh+tYFpmQd8lOSIPtgx6uxpldQc+Q5yrU+lEDHMFWNgt87tjVJfP4ddf1p9FsuT4akOw4mlzx1JfUSyk4CyvidnIcmETwLCa8SjyVExqkq+dVHblsf3ZmYrQUNrNp/fM5QZdTZA+cCe89ZkIpNj5IFl388QelkcxrQT5IwqDZQ93Z/Dbm6KlXrQ8RUyo9QgLjZGTOL8ebpG5oACTenmoWH0U2HD7xwD4GlIWjI3Pi64KfRrGK3OoiKSfxN4p3LAlQpfWlLhiGTDWsohL4UZiIlkAIGzy9Q6IESZBF4IRuVZgRi7F1TMetq+GELaNfOfeOJiuAscs4Dr+EXa/CGiMdaz1Ijbccs8V4Pfh9QW2sKgzHJVutcUjUFQ6O83vcZ+LlU76Mm6RFI7zeC+CsTu95Y1viEvaGSk9gsyyIKF8itUqKaRISK1mUMk0ajGXYM45ptX8nk300tuvEzNwVIQSC0mO19UrzxS/0/XwUO2V8dgGmaiNKaWMRgD+aFlnp2ZFKueanosw/aaVdFLVx05IQmIDzpsogPR0FL6ZVIUqUwIbS551ej0bfs=
  app: decide-ortosia-visualizacion
  on:
    repo: pablotabares/decide
    branch: ortosia-visualizacion
